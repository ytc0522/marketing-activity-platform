## TODO LIST

- RabbitMQ 环境搭建，消息的可靠性保证！幂等性如何保证。
  - 发送端：发送失败的消息，定时任务补偿发送
  - 消费端：手动ACK，如果手动ACK之前，服务挂了，怎么办呢？ 消息不会移除也不会重试，当消费者断开连接，消息重新回到队列。
- 活动奖品如何发放？ 
- 风控措施，黑名单和IP如何设计，如何判断机器流量？
- 好友助力系统的实现

### DDD

### 自定义规则引擎

### 分库分表问题

### 分布式事务

### 限流降级

- 网关限流、服务单机限流

用到的技术组件：
RabbitMQ、XXL-JOB、

## 发现的系统问题：

- lottery_detail 表是否可以变为 活动奖励表？
- 抽奖时，Redis库存扣减时，不应该同时进行 数据库库库存扣减吧？不然会出现一致性问题、性能问题
- 分布式事务问题：库存扣减这个动作和下单这个动作不在一个事务中，如何处理数据一致性问题。